(function(A){A.fn.monthSelector=function(C){var D=A.extend({minDate:new Date(1970,0,1),maxDate:new Date(),selectedDate:new Date(),callback:null,scope:window,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]},C||{});if(!(D.minDate instanceof Date)){D.minDate=new Date(D.minDate)}if(!(D.maxDate instanceof Date)){D.maxDate=new Date(D.maxDate)}if(!(D.selectedDate instanceof Date)){D.selectedDate=new Date(D.selectedDate)}if(D.minDate.toString()==="Invalid Date"){throw new TypeError("$().monthSelector: Invalid minDate.")}if(D.maxDate.toString()==="Invalid Date"){throw new TypeError("$().monthSelector: Invalid maxDate.")}if(D.selectedDate.toString()==="Invalid Date"){throw new TypeError("$().monthSelector: Invalid selectedDate.")}if(D.minDate>D.maxDate){throw new Error("$().monthSelector: minDate exceeds maxDate.")}var B=function(G,F){return new Date((new Date(F,G,1)).getTime()-1)};var E=function(G,F){return new Date(F,G+1,1)};return this.each(function(){var K,L,F,G;var M=function(){var P=parseInt(L.val(),10);var Q=parseInt(K.val(),10);return new Date(P,Q,1)};var O=function(Q){if(!(Q instanceof Date)||Q.toString()==="Invalid Date"){throw new TypeError("$().monthSelector::_setDate: Invalid date.")}if(Q>D.maxDate){Q=D.maxDate}else{if(Q<D.minDate){Q=D.minDate}}var T=Q.getMonth();var R=Q.getFullYear();K.val(T);L.val(R);var S=D.minDate.getMonth();var V=D.minDate.getFullYear();var U=D.maxDate.getMonth();var P=D.maxDate.getFullYear();K.find("option").each(function(){var W=A(this);var X=W.val();if(R===V&&X<S||R===P&&X>U){W.attr("disabled","disabled").addClass("disabled")}else{W.removeAttr("disabled").removeClass("disabled")}});if(B(T,R)<D.minDate){F.attr("disabled","disabled").addClass("disabled")}else{F.removeAttr("disabled").removeClass("disabled")}if(E(T,R)>D.maxDate){G.attr("disabled","disabled").addClass("disabled")}else{G.removeAttr("disabled").removeClass("disabled")}if(typeof D.callback==="function"){D.callback.call(D.scope,M())}};K=A("<select>").change(function(){O(M());this.blur()});for(var I=0;I<12;++I){K.append(A("<option>").val(I).text(D.monthNames[I]))}L=A("<select>").change(function(){O(M());this.blur()});var J=D.maxDate.getFullYear();var N=D.minDate.getFullYear();for(var H=J;H>=N;--H){L.append(A("<option>").val(H).text(H))}F=A('<input type="button">').val("<").click(function(){var P=parseInt(L.val(),10);var Q=parseInt(K.val(),10);O(B(Q,P));this.blur()});G=A('<input type="button">').val(">").click(function(){var P=parseInt(L.val(),10);var Q=parseInt(K.val(),10);O(E(Q,P));this.blur()});O(D.selectedDate);A(this).append(F).append(K).append(L).append(G)})}})(jQuery);
